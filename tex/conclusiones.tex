% vim: set spell spelllang=es syntax=tex :

\section{Conclusiones finales}

\label{concluciones}

En este trabajo se ha presentado un nuevo sistema de visión global por
computadora para el fútbol de robots de la \emph{SSL}, que puede ser utilizado
como herramienta educativa en una asignatura de visión por Computadora y permite
explorar distintas estrategias de paralelización. El sistema procesa cuadros de
vídeo y reporta la posición y orientación de los robots y la posición de la
pelota en cada uno de ellos.

Se describieron dos estrategias de paralelización que son aplicadas en conjunto.
Una de ellas explota el paralelismo dentro de cada cuadro, dividiendo los
cuadros en fragmentos que son procesados de forma independiente. La otra
estrategia se basa en el procesamiento simultáneo de diferentes cuadros del
vídeo (independientes unos de otros).

Se realizó una implementación en \emph{OpenMP} para \emph{C++}, basada en
plugins para facilitar su modificación en un ambiente educativo. Se detallaron
las tareas que ejecuta el sistema para implementar las estrategias de
paralelización. Se estudió el comportamiento del sistema en términos de
\emph{FPS} y de retardo en el procesamiento de los cuadros para diferentes
configuraciones del sistema en distintas resoluciones de vídeo.

En un servidor con un procesador Intel Xeon E5-2630 (6 cores y multithreading
simultáneo) el software es capas de procesar un vídeo de 800x600 píxeles de
resolución a una taza de 196 cuadros por segundo y un vídeo de 1280x720 píxeles
resolución a una taza de 135 cuadros por segundo.

Se pudo comprobar como un numero primo de fragmentos afectaba de forma negativa
el desempeño del sistema, y como un bajo numero de estos obliga a los hilos a
competir por los recursos de caché.

El framework final es adaptable a distintos dominios y su arquitectura basada en
plugins permite modificarlos y agregar nuevos fácilmente. Finalmente,
modificando las variables de cantidad de fragmentos e hilos de búsqueda el
sistema puede adaptarse a un amplio rango de configuraciones de hardware.

\section{Trabajos futuros}

\label{trabajosFuturos}

Si bien el sistema funciona correctamente, existen aspectos que hacen difícil su
aplicación como remplazo para los sistemas de visión global utilizados hoy en
día en las competencias de la \emph{SSL}. En la implementación actual, si se
desea calibrar los colores de los parches o la pelota se deben realizar
modificaciones en el código. Seria deseable una interfaz gráfica que permita
modificar estos datos interactivamente. Seria útil también mostrar gráficamente
la detección de los objetos.

La taza decrecimiento del \emph{speedup} se vio disminuida a partir de los seis
hilos de búsqueda, para analizar si la causa se debe a que los accesos a memoria
crean un cuello de botella o si se se debe a que con seis hilos se alcanza un
alto paralelismo a nivel de instrucción se podría analizar la cantidad de
instrucciones por ciclo.

Como trabajo futuro se planea hacer una interfaz de usuario gráfica para
configurar el sistema. Además, se cree conveniente implementar soluciones
paralelas optimizadas de los plugins para utilizar el sistema en competencias de
fútbol de robots, para esto es aconsejable encontrar la causa de la reducción
del crecimiento del \emph{speedup} analizando la cantidad de instrucciones por
ciclo.
